/**
 * Created by bear on 2017/9/14.
 */

import * as types from '../utils/const'
let datalist={
    '保健养生': [
        {"id":2221,"good_id":2221,"gtitle":"保税区直发 美国Culturelle康萃乐儿童肠胃补助益生菌粉30小袋【2盒起发】","stitle":"保税区直发 美国Culturelle康萃乐儿童肠胃补助益生菌粉30小袋【2盒起发】","gdesc":null,"tags":"","type":"0","category":"227 , 220","isown":2,"bigpic":"http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1512638428472.png","zkprice":159.0,"vipprice":159.0,"price":193.0,"standard":"/盒","gorder":0,"list_smallpicafter":"http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1512720748848.png","list_titlebefore":""},
        {
            "id": 2218,
            "good_id": 2218,
            "gtitle": "保税区直发 新西兰THOMPSON\\'S汤普森护肝宝胶囊120粒【1件起发】",
            "stitle": "保税区直发 新西兰THOMPSON\\'S汤普森护肝宝胶囊120粒【1件起发】",
            "gdesc": null,
            "tags": "",
            "type": "0",
            "category": "227 , 220",
            "isown": 2,
            "bigpic": "http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1512532073684.jpg",
            "zkprice": 159,
            "vipprice": 159,
            "price": 193,
            "standard": "/罐",
            "gorder": 50,
            "list_smallpicafter": "http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1512720748848.png",
            "list_titlebefore": ""
        },
    ],
    '美妆个护':[
        {
            "id": 2222,
            "good_id": 2222,
            "gtitle": "香港直邮 法国CHANEL香奈儿炫亮魅力丝绒唇膏#43 3.5g",
            "stitle": "香港直邮 法国CHANEL香奈儿炫亮魅力丝绒唇膏#43 3.5g",
            "gdesc": null,
            "tags": "",
            "type": "0",
            "category": "227 , 220",
            "isown": 2,
            "bigpic": "http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1512551086926.jpg",
            "zkprice": 299,
            "vipprice": 299,
            "price": 368,
            "standard": "/支",
            "gorder": 0,
            "list_smallpicafter": "http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1512720748848.png",
            "list_titlebefore": ""
        },
        {
            "id": 2223,
            "good_id": 2223,
            "gtitle": "保税区直发 韩国It\\'s skin伊思晶钻蜗牛BB霜 50ml",
            "stitle": "保税区直发 韩国It\\'s skin伊思晶钻蜗牛BB霜 50ml",
            "gdesc": null,
            "tags": "",
            "type": "0",
            "category": "227 , 220",
            "isown": 2,
            "bigpic": "http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1512627567007.jpg",
            "zkprice": 89,
            "vipprice": 89,
            "price": 112,
            "standard": "/支",
            "gorder": 50,
            "list_smallpicafter": "http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1512720748848.png",
            "list_titlebefore": ""
        },
        {
            "id": 1800,
            "good_id": 1800,
            "gtitle": "保税区直发 韩国Amore/爱茉莉玫瑰橄榄蜂蜜护发精油 70ml【2瓶起发】",
            "stitle": "保税区直发 韩国Amore/爱茉莉玫瑰橄榄蜂蜜护发精油 70ml【2瓶起发】",
            "gdesc": null,
            "tags": "",
            "type": "0",
            "category": "227 , 220",
            "isown": 2,
            "bigpic": "http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1511777145292.jpg",
            "zkprice": 49,
            "vipprice": 49,
            "price": 64,
            "standard": "/支",
            "gorder": 50,
            "list_smallpicafter": "http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1512720748848.png",
            "list_titlebefore": ""
        },
        {
            "id": 2135,
            "good_id": 2135,
            "gtitle": "保税区直发 日本Train女の欲望发热压力平腰薄绒十分裤 150D 黑色 Ｍ-Ｌ【一件起发】",
            "stitle": "保税区直发 日本Train女の欲望发热压力平腰薄绒十分裤 150D 黑色 Ｍ-Ｌ【一件起发】",
            "gdesc": null,
            "tags": "",
            "type": "0",
            "category": "227 , 220",
            "isown": 2,
            "bigpic": "http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1512637106988.png",
            "zkprice": 59,
            "vipprice": 59,
            "price": 74,
            "standard": "/件",
            "gorder": 50,
            "list_smallpicafter": "http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1512720748848.png",
            "list_titlebefore": ""
        }
    ],
    '家居家纺':[
        {
            "id": 2172,
            "good_id": 2172,
            "gtitle": "保税区直发 日本THERMOS膳魔师保温杯JNL-503 JTB黑色 500ml",
            "stitle": "保税区直发 日本THERMOS膳魔师保温杯JNL-503 JTB黑色 500ml",
            "gdesc": null,
            "tags": "",
            "type": "0",
            "category": "227 , 220",
            "isown": 2,
            "bigpic": "http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1511945788158.jpg",
            "zkprice": 199,
            "vipprice": 199,
            "price": 250,
            "standard": "/杯",
            "gorder": 50,
            "list_smallpicafter": "http://mlgwxyt-1254277558.picsh.myqcloud.com/upload/img/1512720748848.png",
            "list_titlebefore": ""
        },
    ]

}
const {sectionIDs} = genData(datalist)
let tabs = []
sectionIDs.map((i, index) => {
    tabs.push({title: i})
})

let init = {
    datalist:genData(datalist),
    scrollT:0,
    tabs:tabs
}

function genData( province) {
    const dataBlob = {};
    const sectionIDs = [];
    const rowIDs = [];
    Object.keys(province).forEach((item, index) => {
        sectionIDs.push(item);
        dataBlob[item] = item;
        rowIDs[index] = [];

        province[item].forEach((jj) => {
            rowIDs[index].push(jj.id);
            dataBlob[jj.id] = jj;
        });
    });
    return {dataBlob, sectionIDs, rowIDs};
}


export const doubleActive = (state = init, action) => {

    switch (action.type) {

        case 'ACTIVE_SCROLL':

            return {...state,scrollT:action.scrollT}

        case types.DEADLIST:

            return {...state,datalist: genData(action.data)}

        default:
            return state
    }

}